{"version":3,"sources":["webpack://relatable/./src/index.js"],"names":["state","hidden","referencesCreated","joinButtons","document","querySelectorAll","wrappedjoinButtons","toggleHelp","querySelector","style","display","createSQLCode","joinType","code","getElementById","innerHTML","createDataOutput","output","table","addEventListener","connectButton","connectText","plus","helpText","firstElementChild","forEach","tr","classList","contains","remove","backgroundColor","color","fontSize","btn","disabled","add","id","wrappedBtn"],"mappings":"yBAEA,IAAMA,EAAQ,CACZC,QAAQ,EACRC,mBAAmB,GAGfC,EAAcC,SAASC,iBAAiB,aACxCC,EAAqBF,SAASC,iBAAiB,qBAoBrD,SAASE,IACHP,EAAMC,SAAWD,EAAME,oBACRE,SAASI,cAAc,cAC7BC,MAAMC,QAAU,QACzBV,EAAMC,QAAS,GAyDrB,SAASU,EAAcC,GACrB,IAAMC,EAAOT,SAASU,eAAe,QACrC,OAAQF,GACN,IAAK,QACHC,EAAKE,UAAY,4DACjB,MAEF,IAAK,QACHF,EAAKE,UAAY,wFACjB,MAEF,IAAK,OACHF,EAAKE,UAAY,OACjB,MAEF,IAAK,QACHF,EAAKE,UAAY,QACjB,MAEF,IAAK,OACHF,EAAKE,UAAY,OACjB,MAEF,QACE,QAIN,SAASC,EAAiBJ,GACxB,IAAMK,EAASb,SAASU,eAAe,UACjCI,EAAQd,SAASU,eAAe,gBAEtC,OAAQF,GACN,IAAK,QACHK,EAAOF,UAAY,OACnB,MAEF,IAAK,QACHE,EAAOF,UAAP,UAAsBG,GACtB,MAEF,IAAK,OAIL,IAAK,QAIL,IAAK,OACHD,EAAOF,UAAYG,EACnB,MAEF,QACE,QArINd,SAASI,cAAc,gBACpBW,iBAAiB,SAAS,WAyB7B,IACQC,EACAC,EACAC,EACAC,EAHAH,EAAgBhB,SAASU,eAAe,eACxCO,EAAcD,EAAcI,kBAC5BF,EAAOlB,SAASU,eAAe,QAC/BS,EAAWnB,SAASI,cAAc,cAExCJ,SAASC,iBAAiB,sBAAsBoB,SAAQ,SAAAC,GAElDA,EAAGC,UAAUC,SAAS,WAExB5B,EAAME,mBAAoB,EAE1BwB,EAAGC,UAAUE,OAAO,UAEpBT,EAAcX,MAAMqB,gBAAkB,qBAEtCT,EAAYN,UAAY,qBACxBM,EAAYZ,MAAMsB,MAAQ,oBAE1BT,EAAKP,UAAY,IACjBO,EAAKb,MAAMsB,MAAQ,oBACnBT,EAAKb,MAAMuB,SAAW,QAEtB7B,EAAYsB,SAAQ,SAAAQ,GAClBA,EAAIC,UAAW,KAGjBX,EAASd,MAAMC,QAAU,OACzBV,EAAMC,QAAS,IAIfD,EAAME,mBAAoB,EAE1BwB,EAAGC,UAAUQ,IAAI,UAEjBf,EAAcX,MAAMqB,gBAAkB,qBAEtCT,EAAYN,UAAY,oBACxBM,EAAYZ,MAAMsB,MAAQ,UAE1BT,EAAKP,UAAY,IACjBO,EAAKb,MAAMsB,MAAQ,UACnBT,EAAKb,MAAMuB,SAAW,SAEtB7B,EAAYsB,SAAQ,SAAAQ,GAClBA,EAAIC,UAAW,SArEnBvB,EAAc,SACdK,EAAiB,YAGrBb,EAAYsB,SAAQ,SAAAQ,GAClBA,EAAId,iBAAiB,SAAS,WAC5BR,EAAcsB,EAAIG,IAClBpB,EAAiBiB,EAAIG,UAIzB9B,EAAmBmB,SAAQ,SAAAY,GACzBA,EAAWlB,iBAAiB,aAAcZ,M","file":"main.js","sourcesContent":["import \"./styles/index.scss\";\n\nconst state = {\n  hidden: true,\n  referencesCreated: false,\n}\n\nconst joinButtons = document.querySelectorAll(\".join-btn\")\nconst wrappedjoinButtons = document.querySelectorAll(\".join-btn-wrapper\")\n\ndocument.querySelector(\"#connect-btn\")\n  .addEventListener(\"click\", () => {\n    createReferences()\n    createSQLCode(\"reset\")\n    createDataOutput(\"reset\")\n  });\n\njoinButtons.forEach(btn => {\n  btn.addEventListener(\"click\", () => {\n    createSQLCode(btn.id)\n    createDataOutput(btn.id)\n  });\n})\n\nwrappedjoinButtons.forEach(wrappedBtn => {\n  wrappedBtn.addEventListener(\"mouseenter\", toggleHelp);\n})\n\nfunction toggleHelp() {\n  if (state.hidden && !state.referencesCreated) {\n    const helpText = document.querySelector(\".help-text\")\n      helpText.style.display = \"block\"\n      state.hidden = false;\n  }\n}\n\nfunction createReferences() {\n  const connectButton = document.getElementById(\"connect-btn\")\n  const connectText = connectButton.firstElementChild\n  const plus = document.getElementById(\"plus\")\n  const helpText = document.querySelector(\".help-text\")\n\n  document.querySelectorAll(\"tr .ref:last-child\").forEach(tr => {\n    \n    if (tr.classList.contains(\"hidden\")) {\n\n      state.referencesCreated = true;\n\n      tr.classList.remove(\"hidden\")\n\n      connectButton.style.backgroundColor = \"rgb(205, 236, 255)\"\n\n      connectText.innerHTML = \"References created\"\n      connectText.style.color = \"rgb(40, 113, 158)\"\n\n      plus.innerHTML = \"âœ“\"\n      plus.style.color = \"rgb(40, 113, 158)\"\n      plus.style.fontSize = \"large\"\n\n      joinButtons.forEach(btn => {\n        btn.disabled = false;\n      })\n\n      helpText.style.display = \"none\";\n      state.hidden = true;\n      \n    } else {\n\n      state.referencesCreated = false;\n      \n      tr.classList.add(\"hidden\")\n\n      connectButton.style.backgroundColor = \"rgb(237, 237, 237)\"\n\n      connectText.innerHTML = \"Create references\"\n      connectText.style.color = \"inherit\"\n\n      plus.innerHTML = \"+\"\n      plus.style.color = \"#5E5E5E\"\n      plus.style.fontSize = \"larger\"\n\n      joinButtons.forEach(btn => {\n        btn.disabled = true;\n      })\n\n    }\n  })\n}\n\nfunction createSQLCode(joinType) {\n  const code = document.getElementById(\"code\")\n  switch (joinType) {\n    case \"reset\":\n      code.innerHTML = \"Click a JOIN button and a SQL query will generate here...\"\n      break;\n\n    case \"inner\":\n      code.innerHTML = \"SELECT * <br> FROM actors <br> INNER JOIN movies <br> ON actors.movie_id = movies.id;\"\n      break;\n\n    case \"left\":\n      code.innerHTML = \"left\"\n      break;\n      \n    case \"right\":\n      code.innerHTML = \"right\"\n      break;\n      \n    case \"full\":\n      code.innerHTML = \"full\"\n      break;\n  \n    default:\n      return;\n  }\n}\n\nfunction createDataOutput(joinType) {\n  const output = document.getElementById(\"output\")\n  const table = document.getElementById(\"actors-table\")\n  debugger\n  switch (joinType) {\n    case \"reset\":\n      output.innerHTML = \"None\"\n      break;\n\n    case \"inner\":\n      output.innerHTML = `${table}`\n      break;\n\n    case \"left\":\n      output.innerHTML = table\n      break;\n      \n    case \"right\":\n      output.innerHTML = table\n      break;\n      \n    case \"full\":\n      output.innerHTML = table\n      break;\n  \n    default:\n      return;\n  }\n}\n\n\n"],"sourceRoot":""}